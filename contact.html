<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Contact Us - SBB Foundation</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    *{box-sizing:border-box;margin:0;padding:0}
    :root{
      --brand:#2d6cdf;
      --accent:#ffcf33;
      --muted:#6b7280;
      --card-shadow:0 6px 22px rgba(16,32,58,0.08);
      --radius:12px;
      --btn-bg:#fff;
      --btn-border: rgba(16,32,58,0.06);
      --btn-color: var(--brand);
    }
    body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial; color:#111827; background:#f7f9fc; line-height:1.6; -webkit-font-smoothing:antialiased;}

    /* Header */
    header{background:var(--brand); padding:14px 5%; display:flex; align-items:center; justify-content:space-between; gap:1rem; position:relative;}
    .logo{display:flex;align-items:center;gap:12px;flex-shrink:0;}
    .logo img{height:48px;width:48px;border-radius:8px;object-fit:cover}
    .logo h1{color:#fff;font-size:1.05rem;font-weight:700;margin:0}
    nav{display:flex;align-items:center;gap:.5rem}
    nav a{color:#fff;text-decoration:none;padding:8px 10px;border-radius:8px;font-weight:600;transition:background .18s,color .18s}
    nav a:hover{background:rgba(255,255,255,0.06);color:var(--accent)}
    nav a.active{background:rgba(255,255,255,0.06)}
    .mobile-menu{display:none;background:transparent;border:none;color:#fff;font-size:26px;padding:6px;border-radius:8px;cursor:pointer}
    .mobile-panel{position:absolute;top:calc(100% + 10px);right:5%;background:#fff;color:#10203a;min-width:170px;border-radius:10px;box-shadow:0 14px 40px rgba(16,32,58,0.12);overflow:hidden;border:1px solid rgba(0,0,0,0.06);display:none;z-index:1200}
    .mobile-panel.open{display:block}
    .mobile-panel a{display:block;padding:12px 14px;text-decoration:none;color:#10203a;font-weight:600;border-bottom:1px solid rgba(16,32,58,0.04)}
    .mobile-panel a:last-child{border-bottom:none}
    @media(max-width:880px){nav{display:none}.mobile-menu{display:inline-flex}.mobile-panel{right:6%}}

    /* HERO (unchanged) */
    .hero{
      position: relative; min-height:55vh; display:flex; align-items:center; justify-content:center; text-align:center; overflow:hidden;
      padding:3.5rem 2rem; background:url('images/hero-bg.jpg') center/cover no-repeat; transition:transform .35s ease; will-change:transform;
    }
    .hero::after{content:"";position:absolute;inset:0;background:linear-gradient(180deg,rgba(0,0,0,0.40),rgba(0,0,0,0.16));pointer-events:none;z-index:0}
    .hero::before{content:"";position:absolute;right:-6%;top:-8%;width:320px;height:320px;background:radial-gradient(circle at 30% 30%, rgba(255,203,51,0.08), rgba(45,108,223,0.04) 45%, transparent 60%);filter:blur(26px);transform:translateZ(0);z-index:0;pointer-events:none}
    .hero-content{position:relative;z-index:2;max-width:900px;margin:auto;padding:2rem;display:flex;flex-direction:column;align-items:center;gap:16px}
    .hero-title{font-size:2.4rem;font-weight:700;line-height:1.08;color:#fff;transform:translateY(18px);opacity:0;transition:all .7s cubic-bezier(.2,.9,.2,1)}
    .hero-lead{font-size:1.05rem;color:rgba(255,255,255,0.95);max-width:78ch;transform:translateY(14px);opacity:0;transition:all .7s .08s cubic-bezier(.2,.9,.2,1)}
    .hero-cta-row{display:flex;gap:12px;align-items:center}
    .btn{border-radius:999px;padding:12px 18px;font-weight:700;text-decoration:none;cursor:pointer}
    .btn-primary{background:var(--accent);color:#10203a;box-shadow:0 10px 26px rgba(255,207,51,0.12)}
    .btn-ghost{background:transparent;color:rgba(255,255,255,0.95);border:1px solid rgba(255,255,255,0.12)}
    .btn-primary:hover{transform:translateY(-4px)}
    .chevron-wrap{display:block;margin-top:16px;cursor:pointer;opacity:0.95}
    .chev{width:36px;height:36px;display:inline-block;transform-origin:center;animation:chev-bob 2s infinite;fill:rgba(255,255,255,0.95)}
    @keyframes chev-bob{0%{transform:translateY(0)}50%{transform:translateY(8px)}100%{transform:translateY(0)}}
    @media (max-width:900px){.hero{background-position:center 35%}} @media (max-width:560px){.hero{min-height:46vh;padding:2.4rem 1.2rem}.hero-title{font-size:1.8rem}.chev{width:28px;height:28px}}

    /* Contact section */
    .contact{padding:3.2rem 5%; max-width:1200px; margin:-2.5rem auto 3rem; display:grid; grid-template-columns:1fr 480px; gap:2rem; align-items:start}
    @media(max-width:980px){.contact{grid-template-columns:1fr;margin-top:1.2rem;padding-top:1.6rem}}

    .contact-info{display:flex;flex-direction:column;gap:14px}
    .card{background:#fff;border-radius:var(--radius);padding:16px;box-shadow:var(--card-shadow);border:1px solid rgba(16,32,58,0.04)}
    .card h3{color:var(--brand);margin-bottom:8px;font-size:1.05rem}
    .office-row{display:flex;gap:12px;align-items:flex-start}
    .office-thumb{width:84px;height:70px;border-radius:8px;object-fit:cover;flex:0 0 84px;border:1px solid rgba(16,32,58,0.04)}
    .office-meta{font-size:0.98rem;color:#263238}
    .office-meta small{display:block;color:var(--muted);margin-top:6px;font-size:0.88rem}

    /* Improved action buttons (real buttons now) */
    .action-group{display:flex;gap:10px;margin-top:10px;flex-wrap:wrap}
    .action-btn{
      display:inline-flex;align-items:center;gap:10px;padding:8px 12px;border-radius:10px;border:1px solid var(--btn-border);
      background:var(--btn-bg);color:var(--btn-color);font-weight:700;text-decoration:none;cursor:pointer;box-shadow:0 6px 14px rgba(16,32,58,0.04);
      transition:transform .12s ease, box-shadow .12s ease, background .12s ease;
      font-size:0.95rem;
    }
    .action-btn svg{width:16px;height:16px;flex:0 0 16px;display:block}
    .action-btn:hover{transform:translateY(-3px);box-shadow:0 14px 30px rgba(16,32,58,0.08)}
    .action-btn:active{transform:translateY(-1px)}
    .action-btn.primary{background:var(--brand);color:#fff;border-color:transparent}
    .action-btn.ghost{background:transparent;color:var(--brand);border-color:var(--btn-border)}
    .action-btn.tel{background:linear-gradient(180deg, rgba(45,108,223,0.06), rgba(255,255,255,0.02));}
    .action-btn:focus{outline:3px solid rgba(45,108,223,0.16);outline-offset:3px}

    /* map container (hidden by default) */
    .map-embed{margin-top:12px;border-radius:10px;overflow:hidden;border:1px solid rgba(16,32,58,0.06);display:none}
    .map-embed iframe{width:100%;height:260px;border:0;display:block}

    /* form styles */
    .contact-form .card{padding:20px}
    .form-row{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:12px}
    @media(max-width:520px){.form-row{grid-template-columns:1fr}}
    label{display:block;margin-bottom:6px;color:#243447;font-weight:600;font-size:0.92rem}
    input[type=text],input[type=email],textarea{width:100%;padding:12px 14px;border-radius:10px;border:1px solid rgba(16,32,58,0.08);font-size:0.98rem;background:#fff}
    textarea{min-height:130px;resize:vertical}
    .hint{font-size:0.86rem;color:var(--muted);margin-top:6px}
    .contact-form button{margin-top:8px;background:var(--brand);color:#fff;border:none;padding:12px 16px;border-radius:10px;font-weight:700;cursor:pointer;box-shadow:0 10px 24px rgba(16,32,58,0.08)}
    .contact-form button:disabled{opacity:.6;cursor:not-allowed}

    .meta-row{display:flex;gap:12px;align-items:center;justify-content:space-between;margin-top:10px;flex-wrap:wrap}
    .meta-row a{color:var(--brand);text-decoration:none;font-weight:600;border-bottom:1px dashed rgba(45,108,223,0.12);padding-bottom:2px}
    .hours{font-size:0.92rem;color:var(--muted)}

    /* toast */
    .toast{position:fixed;right:18px;bottom:18px;background:#0f1724;color:#fff;padding:12px 16px;border-radius:10px;box-shadow:0 12px 36px rgba(2,6,23,0.5);transform:translateY(10px);opacity:0;pointer-events:none;transition:transform .22s,opacity .22s}
    .toast.show{transform:translateY(0);opacity:1;pointer-events:auto}

    footer{background:var(--brand);color:#fff;text-align:center;padding:14px 5%;margin-top:36px}
    a:focus,button:focus,input:focus,textarea:focus{outline:3px solid rgba(45,108,223,0.16);outline-offset:2px}
  </style>
</head>
<body>
  <!-- Header -->
  <header>
    <div class="logo" aria-hidden="false">
      <img src="images/logo.jpeg" alt="SBB Logo">
      <h1>SBB Foundation</h1>
    </div>

    <nav aria-label="Primary navigation">
      <a href="index.html">Home</a>
      <a href="about.html">About</a>
      <a href="services.html">Services</a>
      <a href="ventures.html">Ventures</a>
      <a href="contact.html" class="active">Contact</a>
    </nav>

    <button class="mobile-menu" id="mobileMenuBtn" aria-haspopup="true" aria-expanded="false" aria-controls="mobilePanel" title="Open menu">⋮</button>

    <div class="mobile-panel" id="mobilePanel" role="menu" aria-labelledby="mobileMenuBtn">
      <a href="index.html" role="menuitem" tabindex="0">Home</a>
      <a href="about.html" role="menuitem" tabindex="0">About</a>
      <a href="services.html" role="menuitem" tabindex="0">Services</a>
      <a href="ventures.html" role="menuitem" tabindex="0">Ventures</a>
      <a href="contact.html" role="menuitem" tabindex="0">Contact</a>
    </div>
  </header>

  <!-- HERO (unchanged) -->
  <section class="hero" aria-label="Contact hero banner">
    <div class="hero-content">
      <h1 class="hero-title">Get in Touch</h1>
      <p class="hero-lead">We’d love to hear from you — for software projects, partnerships, or to support our social initiatives.</p>

      <div class="hero-cta-row">
        <a class="btn btn-primary" href="services.html">Explore Services</a>
        <a class="btn btn-ghost" href="#contact-form">Contact Us</a>
      </div>

      <a class="chevron-wrap" id="scrollChevron" href="#contact-form" aria-label="Scroll to contact form">
        <svg class="chev" viewBox="0 0 24 24" role="img" aria-hidden="true"><path d="M12 16.5c-.3 0-.5-.1-.7-.3l-6-6a1 1 0 0 1 1.4-1.4L12 13.09l5.3-5.3a1 1 0 1 1 1.4 1.42l-6 6c-.2.2-.4.29-.7.29z"></path></svg>
      </a>
    </div>
  </section>

  <!-- Contact Section -->
  <section class="contact" id="contact-form" tabindex="-1" aria-labelledby="contact-heading">
    <div class="contact-info" aria-hidden="false">

      <!-- Primary Contact -->
      <div class="card" aria-labelledby="contact-heading">
        <h3 id="contact-heading">Contact Information</h3>

        <div class="office-row" style="align-items:center;">
          <img class="office-thumb" src="images/office-generic.jpg" alt="Contact person">
          <div class="office-meta">
            <strong>Jitendra Sharma</strong>
            <div style="margin-top:6px;"><a href="tel:+919166010400">+91 91660 10400</a></div>
            <div style="margin-top:6px"><a href="mailto:info@sbbf.in">info@sbbf.in</a></div>
            <small>Alternate: <a href="mailto:jitendra.sharma@sbbf.in">jitendra.sharma@sbbf.in</a></small>
          </div>
        </div>

        <div class="action-group" style="margin-top:12px;">
          <!-- Email -->
          <a class="action-btn primary" href="mailto:info@sbbf.in" aria-label="Email SBB Foundation">
            <!-- mail icon -->
            <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M3 7.5v9A2.5 2.5 0 0 0 5.5 19h13A2.5 2.5 0 0 0 21 16.5v-9A2.5 2.5 0 0 0 18.5 5h-13A2.5 2.5 0 0 0 3 7.5z" stroke="#fff" stroke-width="0.8" fill="currentColor"/><path d="M21 7.5l-9 6-9-6" stroke="#fff" stroke-width="0.9" fill="none"></path></svg>
            Email Us
          </a>

          <!-- Call -->
          <a class="action-btn tel" href="tel:+919166010400" aria-label="Call SBB Foundation">
            <!-- phone icon -->
            <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M6.6 10.2a12.2 12.2 0 0 0 7.2 7.2l1.9-1.9a1 1 0 0 1 1.1-.2c1.2.5 2.6.8 4 .8a1 1 0 0 1 1 1v2.6A1 1 0 0 1 21 21c-8.3 0-15-6.7-15-15 0-.6.4-1 1-1H9.6a1 1 0 0 1 1 1c0 1.4.3 2.8.8 4a1 1 0 0 1-.2 1.1l-1.9 1.9z" stroke="currentColor" stroke-width="1" fill="currentColor"/></svg>
            Call
          </a>

          <!-- Message (scroll to form) -->
          <button class="action-btn ghost" id="msgBtn" type="button" aria-label="Message SBB Foundation">
            <!-- message icon -->
            <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M21 15a2 2 0 0 1-2 2H8l-5 4V6a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" stroke="currentColor" stroke-width="1" fill="currentColor"/></svg>
            Message
          </button>

          
        </div>
      </div>

      <!-- Head Office - Mumbai -->
      <div class="card" id="office-mumbai-card">
        <div class="office-row">
          <img class="office-thumb" src="images/office-mumbai.jpg" alt="Mumbai office">
          <div class="office-meta">
            <strong>Head Office — Mumbai</strong>
            <div class="hint" style="margin-top:6px;">
              Flat no 202<br>
              Dr. Dadabhai Naoroji Rd, Fort<br>
              Mumbai, Maharashtra — 400001<br>
              India
            </div>
            <small>PIN: <strong>400001</strong></small>

            <div class="action-group">
              <button class="action-btn" data-map="mumbai" aria-expanded="false">
                <!-- map icon -->
                <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M12 2l7 4v12l-7 4-7-4V6l7-4z" stroke="currentColor" stroke-width="0.8" fill="currentColor"/></svg>
                View map
              </button>
              <a class="action-btn" href="https://www.google.com/maps/search/?api=1&query=Dr+Dadabhai+Naoroji+Road+Mumbai+400001" target="_blank" rel="noopener">
                <!-- external icon -->
                <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M14 3h7v7" stroke="currentColor" stroke-width="1.2" fill="none"/><path d="M10 14L21 3" stroke="currentColor" stroke-width="1.2" fill="none"/><path d="M21 21H3V3h7" stroke="currentColor" stroke-width="0.9" fill="none"/></svg>
                Open in Maps
              </a>
            </div>
          </div>
        </div>

        <div class="map-embed" id="map-mumbai" aria-hidden="true">
          <iframe loading="lazy" title="Mumbai office map" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d60225.75471799881!2d72.77895422353027!3d18.94114068857802!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3be7c8336f1f1a9d%3A0x0!2sDr%20Dadabhai%20Naoroji%20Road%2C%20Fort%2C%20Mumbai%2C%20400001!5e0!3m2!1sen!2sin!4v1700000000000" ></iframe>
        </div>
      </div>

      <!-- Branch Office — Jaipur (Rajbhawan Road) -->
      <div class="card" id="office-jaipur-raj">
        <div class="office-row">
          <img class="office-thumb" src="images/office-jaipur-raj.jpg" alt="Jaipur Rajbhawan office">
          <div class="office-meta">
            <strong>Branch Office — Jaipur (Rajbhawan Road)</strong>
            <div class="hint" style="margin-top:6px;">
              SBB Foundation<br>
              3A Rajbhawan Road<br>
              Jaipur, Rajasthan — 302006<br>
              India
            </div>
            <small>PIN: <strong>302006</strong></small>

            <div class="action-group">
              <button class="action-btn" data-map="jaipur-raj" aria-expanded="false">
                <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M12 2l7 4v12l-7 4-7-4V6l7-4z" stroke="currentColor" stroke-width="0.8" fill="currentColor"/></svg>
                View map
              </button>
              <a class="action-btn" href="https://www.google.com/maps/search/?api=1&query=3A+Rajbhawan+Road+Jaipur+302006" target="_blank" rel="noopener">
                <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M14 3h7v7" stroke="currentColor" stroke-width="1.2" fill="none"/><path d="M10 14L21 3" stroke="currentColor" stroke-width="1.2" fill="none"/><path d="M21 21H3V3h7" stroke="currentColor" stroke-width="0.9" fill="none"/></svg>
                Open in Maps
              </a>
            </div>
          </div>
        </div>

        <div class="map-embed" id="map-jaipur-raj" aria-hidden="true">
          <iframe loading="lazy" title="Jaipur Rajbhawan Road map" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3579.0000000000005!2d75.803024!3d26.924000!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2sRajbhawan%2C%20Jaipur!5e0!3m2!1sen!2sin!4v1700000000001"></iframe>
        </div>
      </div>

      <!-- Branch Office — Jaipur (Vaishali Nagar) -->
      <div class="card" id="office-jaipur-vn">
        <div class="office-row">
          <img class="office-thumb" src="images/office-jaipur-vaishali.jpg" alt="Jaipur Vaishali Nagar office">
          <div class="office-meta">
            <strong>Branch Office — Jaipur (Vaishali Nagar)</strong>
            <div class="hint" style="margin-top:6px;">
              SBB Foundation<br>
              J10, Vaishali Nagar<br>
              Jaipur, Rajasthan — 302021<br>
              India
            </div>
            <small>PIN: <strong>302021</strong></small>

            <div class="action-group">
              <button class="action-btn" data-map="jaipur-vn" aria-expanded="false">
                <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M12 2l7 4v12l-7 4-7-4V6l7-4z" stroke="currentColor" stroke-width="0.8" fill="currentColor"/></svg>
                View map
              </button>
              <a class="action-btn" href="https://www.google.com/maps/search/?api=1&query=Vaishali+Nagar+Jaipur+302021" target="_blank" rel="noopener">
                <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M14 3h7v7" stroke="currentColor" stroke-width="1.2" fill="none"/><path d="M10 14L21 3" stroke="currentColor" stroke-width="1.2" fill="none"/><path d="M21 21H3V3h7" stroke="currentColor" stroke-width="0.9" fill="none"/></svg>
                Open in Maps
              </a>
            </div>
          </div>
        </div>

        <div class="map-embed" id="map-jaipur-vn" aria-hidden="true">
          <iframe loading="lazy" title="Vaishali Nagar Jaipur map" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3579.0000000000005!2d75.781000!3d26.885000!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2sVaishali+Nagar%2C+Jaipur!5e0!3m2!1sen!2sin!4v1700000000002"></iframe>
        </div>
      </div>

      <!-- Support / Hours -->
      <div class="card">
        <div style="display:flex;justify-content:space-between;align-items:center;">
          <div>
            <h3 style="margin-bottom:6px;">Support</h3>
            <div class="hours">Mon–Fri: 9:00 — 18:00 (IST)</div>
            <small class="hint">Response time: typically 1–2 business days</small>
          </div>
          <div style="text-align:right;">
            <button class="action-btn" id="supportCardBtn" type="button" aria-label="Get Support">
              <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M12 2a10 10 0 1 0 .001 20.001A10 10 0 0 0 12 2z" stroke="currentColor" stroke-width="0.8" fill="currentColor"/><path d="M12 7v6l4 2" stroke="#fff" stroke-width="1.2" fill="none"/></svg>
              Get Support
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Right column: Form -->
    <div class="contact-form">
      <div class="card" role="form" aria-labelledby="form-heading">
        <h3 id="form-heading">Send Us a Message</h3>

        <form id="contactForm" novalidate>
          <div class="form-row">
            <div>
              <label for="name">Full name</label>
              <input id="name" name="name" type="text" autocomplete="name" required placeholder="Your full name">
            </div>
            <div>
              <label for="email">Email</label>
              <input id="email" name="email" type="email" autocomplete="email" required placeholder="you@company.com">
            </div>
            
          </div>

          <div>
            <label for="subject">Subject</label>
            <input id="subject" name="subject" type="text" placeholder="Subject (e.g. Project inquiry)" required>
          </div>

          <div style="margin-top:12px;">
            <label for="message">Message</label>
            <textarea id="message" name="message" placeholder="Tell us about your project or question..." required></textarea>
            <div class="hint" aria-hidden="true">We typically reply within 1–2 business days.</div>
          </div>

          <div style="display:flex;align-items:center;gap:12px;margin-top:12px;">
            <input id="consent" type="checkbox" required>
            <label for="consent" style="margin:0;font-size:0.92rem;color:var(--muted)">I agree to be contacted about my inquiry.</label>
          </div>

          <div style="display:flex;gap:10px;align-items:center;margin-top:14px;">
            <button type="submit" id="submitBtn">Send Message</button>
            <div class="hint" aria-hidden="true" style="margin-left:auto;">Or email: <a href="mailto:info@sbbf.in">info@sbbf.in</a></div>
          </div>

          <div class="meta-row" aria-hidden="true" style="margin-top:16px;">
            <div class="hours">Secure & confidential</div>
            <a href="https://www.google.com/maps/search/?api=1&query=SBB+Foundation" target="_blank" rel="noopener">View offices on map</a>
          </div>
        </form>
        
      </div>
      
    </div>
    
  </section>

  <footer>
    <p>&copy; 2016 SBB Foundation | Software & Social Impact</p>
  </footer>

  <div id="toast" class="toast" role="status" aria-live="polite" aria-atomic="true">Message sent — thank you! We'll reply soon.</div>

  <script>
    (function(){
      const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

      // Mobile panel logic
      const btn = document.getElementById('mobileMenuBtn');
      const panel = document.getElementById('mobilePanel');
      function closePanel(){ if(!panel) return; panel.classList.remove('open'); if(btn) btn.setAttribute('aria-expanded','false'); }
      function openPanel(){ if(!panel) return; panel.classList.add('open'); if(btn) btn.setAttribute('aria-expanded','true'); if(btn) btn.focus(); }
      if(btn){
        btn.addEventListener('click', function(e){ e.stopPropagation(); const isOpen = panel.classList.contains('open'); if(isOpen) closePanel(); else openPanel(); });
        btn.addEventListener('keydown', function(e){ if(e.key==='Enter' || e.key===' '){ e.preventDefault(); btn.click(); } else if(e.key==='Escape'){ closePanel(); } });
      }
      document.addEventListener('click', function(e){ if(!panel) return; if(panel.classList.contains('open') && !panel.contains(e.target) && e.target !== btn) closePanel(); });
      document.addEventListener('keydown', function(e){ if(e.key === 'Escape') closePanel(); });
      if(panel){ panel.querySelectorAll('a').forEach(a => a.addEventListener('click', ()=> closePanel())); }

      // staged reveal for hero text (unchanged)
      function revealHero(){ const title = document.querySelector('.hero-title'); const lead = document.querySelector('.hero-lead'); if(title){ title.style.opacity = 1; title.style.transform = 'translateY(0)'; } if(lead){ lead.style.opacity = 1; lead.style.transform = 'translateY(0)'; } }

      // chevron smooth scroll to contact form
      const chevron = document.getElementById('scrollChevron');
      if(chevron){
        chevron.addEventListener('click', function(e){
          e.preventDefault();
          const target = document.querySelector('#contact-form');
          if(target){
            target.scrollIntoView({behavior: prefersReduced ? 'auto' : 'smooth', block:'start'});
            if(!prefersReduced) setTimeout(()=>{ target.focus({preventScroll:true}); }, 500);
          }
        });
      }

      // gentle parallax (unchanged)
      function attachParallax(){
        const hero = document.querySelector('.hero');
        if(!hero || prefersReduced) return;
        const intensity = 12;
        function onMove(e){
          const rect = hero.getBoundingClientRect();
          const cx = rect.left + rect.width/2;
          const cy = rect.top + rect.height/2;
          const clientX = e.touches ? e.touches[0].clientX : e.clientX;
          const clientY = e.touches ? e.touches[0].clientY : e.clientY;
          const dx = (clientX - cx) / rect.width;
          const dy = (clientY - cy) / rect.height;
          hero.style.transform = `translate3d(${dx * intensity * 0.12}px, ${dy * intensity * 0.05}px, 0)`;
          const posX = 50 + dx * 4;
          const posY = 35 + dy * 3;
          hero.style.backgroundPosition = `${posX}% ${posY}%`;
        }
        function onLeave(){ hero.style.transform=''; hero.style.backgroundPosition=''; }
        hero.addEventListener('mousemove', onMove);
        hero.addEventListener('mouseleave', onLeave);
        hero.addEventListener('touchmove', function(ev){ if(ev.touches && ev.touches[0]) onMove(ev.touches[0]); }, {passive:true});
      }

      // Map toggles: toggle map embed under each office
      document.querySelectorAll('[data-map]').forEach(btn => {
        btn.addEventListener('click', function(){
          const key = btn.getAttribute('data-map');
          const mapEl = document.getElementById('map-' + key);
          if(!mapEl) return;
          const expanded = btn.getAttribute('aria-expanded') === 'true';
          if(expanded){
            mapEl.style.display = 'none';
            mapEl.setAttribute('aria-hidden','true');
            btn.setAttribute('aria-expanded','false');
            btn.innerHTML = '<svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M12 2l7 4v12l-7 4-7-4V6l7-4z" stroke="currentColor" stroke-width="0.8" fill="currentColor"/></svg> View map';
          } else {
            document.querySelectorAll('.map-embed').forEach(m => { if(m !== mapEl){ m.style.display='none'; m.setAttribute('aria-hidden','true'); const associated = document.querySelector('[data-map="'+m.id.replace('map-','')+'"]'); if(associated){ associated.setAttribute('aria-expanded','false'); associated.innerHTML = '<svg viewBox=\"0 0 24 24\" fill=\"none\" aria-hidden=\"true\"><path d=\"M12 2l7 4v12l-7 4-7-4V6l7-4z\" stroke=\"currentColor\" stroke-width=\"0.8\" fill=\"currentColor\"/></svg> View map'; } } });
            mapEl.style.display = 'block';
            mapEl.setAttribute('aria-hidden','false');
            btn.setAttribute('aria-expanded','true');
            btn.innerHTML = '<svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M6 6l12 12M18 6L6 18" stroke="currentColor" stroke-width="1.3"/></svg> Hide map';
            if(window.innerWidth < 900) setTimeout(()=> mapEl.scrollIntoView({behavior:'smooth', block:'center'}), 80);
          }
        });
      });

      // Message button -> focus on form message field
      const msgBtn = document.getElementById('msgBtn');
      if(msgBtn){
        msgBtn.addEventListener('click', function(){
          const target = document.getElementById('message');
          if(target){
            target.focus();
            if(window.innerWidth < 900) target.scrollIntoView({behavior:'smooth', block:'center'});
          }
        });
      }

      // Support buttons scroll to support card
      const supportBtns = [document.getElementById('supportBtn'), document.getElementById('supportCardBtn')].filter(Boolean);
      supportBtns.forEach(b=>{
        b.addEventListener('click', function(){
          const card = document.querySelector('#office-mumbai-card') || document.querySelector('.contact-info .card');
          if(card){
            card.scrollIntoView({behavior: prefersReduced ? 'auto' : 'smooth', block:'center'});
            card.focus && card.focus();
          }
        });
      });

      // Form handling (simulated)
      const form = document.getElementById('contactForm');
      const toast = document.getElementById('toast');
      const submitBtn = document.getElementById('submitBtn');
      function showToast(msg){ toast.textContent = msg; toast.classList.add('show'); clearTimeout(window._toastTimer); window._toastTimer = setTimeout(()=> toast.classList.remove('show'), 4200); }
      if(form){
        form.addEventListener('submit', function(e){
          e.preventDefault();
          const name = form.name.value.trim();
          const email = form.email.value.trim();
          const message = form.message.value.trim();
          const consent = form.consent.checked;
          if(!name || !email || !message || !consent){ showToast('Please complete required fields and agree to contact.'); return; }
          submitBtn.disabled = true; submitBtn.textContent = 'Sending...';
          setTimeout(()=>{ submitBtn.disabled = false; submitBtn.textContent = 'Send Message'; form.reset(); showToast('Message sent — thank you! We will reply within 1–2 business days.'); }, 900);
        });
      }

      document.addEventListener('DOMContentLoaded', function(){ setTimeout(revealHero, 120); attachParallax(); });
    })();
  </script>
</body>
</html>
