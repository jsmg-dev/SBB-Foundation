<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Contact Us - SBB Foundation</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    /* Reset / base */
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: 'Inter', sans-serif; color: #111827; background: #f7f9fc; line-height: 1.6; -webkit-font-smoothing:antialiased; }

    :root {
      --brand: #2d6cdf;
      --accent: #ffcf33;
      --muted: #6b7280;
      --card-shadow: 0 8px 28px rgba(16,32,58,0.06);
      --radius: 12px;
      --max-page-width: 1140px;
    }

    /* Header */
    header {
      background: var(--brand);
      padding: 14px 5%;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 1rem;
      position: relative;
    }
    .logo { display: flex; align-items: center; gap: 12px; flex-shrink: 0; }
    .logo img { height: 48px; width:48px; object-fit:cover; border-radius: 8px; }
    .logo h1 { color: #fff; font-size: 1.05rem; font-weight: 700; margin: 0; }
    nav { display: flex; gap: 0.5rem; align-items: center; }
    nav a { color: #fff; text-decoration: none; padding: 8px 10px; border-radius: 8px; font-weight: 600; transition: background .15s, color .15s; }
    nav a:hover { background: rgba(255,255,255,0.06); color: var(--accent); }
    nav a.active { background: rgba(255,255,255,0.06); }

    .mobile-menu { display: none; background: transparent; border: none; color: #fff; font-size: 26px; padding: 6px; border-radius: 8px; cursor: pointer; }
    .mobile-panel {
      display: none;
      position: absolute;
      top: calc(100% + 10px);
      right: 5%;
      background: #fff;
      color: #10203a;
      min-width: 170px;
      border-radius: 10px;
      box-shadow: 0 14px 40px rgba(16,32,58,0.12);
      overflow: hidden;
      z-index: 1200;
      border: 1px solid rgba(0,0,0,0.06);
    }
    .mobile-panel.open { display: block; }
    .mobile-panel a { display: block; padding: 12px 14px; color: #10203a; text-decoration: none; font-weight: 600; border-bottom: 1px solid rgba(16,32,58,0.04); }
    .mobile-panel a:last-child { border-bottom: none; }

    @media (max-width: 880px) {
      nav { display: none; }
      .mobile-menu { display: inline-flex; }
    }

    /* HERO - EXACTLY UNCHANGED (kept from your design) */
    .hero{
      position: relative;
      min-height: 55vh;
      display:flex;
      align-items:center;
      justify-content:center;
      text-align:center;
      overflow:hidden;
      padding:3.5rem 2rem;
      background: url('images/hero-bg.jpg') center/cover no-repeat;
      transition: transform 0.35s ease;
      will-change: transform;
    }
    .hero::after{
      content:"";
      position:absolute;
      inset:0;
      background: linear-gradient(180deg, rgba(0,0,0,0.40), rgba(0,0,0,0.16));
      pointer-events:none;
      z-index:0;
    }
    .hero::before{
      content:"";
      position:absolute;
      right:-6%;
      top:-8%;
      width:320px;
      height:320px;
      background: radial-gradient(circle at 30% 30%, rgba(255,203,51,0.08), rgba(45,108,223,0.04) 45%, transparent 60%);
      filter: blur(26px);
      transform: translateZ(0);
      z-index:0;
      pointer-events:none;
    }
    .hero-content{ position:relative; z-index:2; max-width:900px; margin:auto; padding:2rem; display:flex; flex-direction:column; align-items:center; gap:16px; }
    .hero-title{ font-size:2.4rem; font-weight:700; line-height:1.08; color:#fff; transform:translateY(18px); opacity:0; transition:all .7s cubic-bezier(.2,.9,.2,1); }
    .hero-lead{ font-size:1.05rem; color:rgba(255,255,255,0.95); max-width:78ch; transform:translateY(14px); opacity:0; transition:all .7s .08s cubic-bezier(.2,.9,.2,1); }
    .hero-cta-row{ display:flex; gap:12px; align-items:center; }
    .btn{ border-radius:999px; padding:12px 18px; font-weight:700; text-decoration:none; cursor:pointer; }
    .btn-primary{ background:var(--accent); color:#10203a; box-shadow: 0 10px 26px rgba(255,207,51,0.12); }
    .btn-ghost{ background:transparent; color:rgba(255,255,255,0.95); border:1px solid rgba(255,255,255,0.12); }
    .chevron-wrap{ display:block; margin-top:16px; cursor:pointer; opacity:0.95; }
    .chev{ width:36px; height:36px; display:inline-block; transform-origin:center; animation:chev-bob 2s infinite; fill:rgba(255,255,255,0.95); }
    @keyframes chev-bob{ 0%{transform:translateY(0)}50%{transform:translateY(8px)}100%{transform:translateY(0)} }
    @media (max-width:900px){ .hero{ background-position:center 35%; } }
    @media (max-width:560px){ .hero{ min-height:46vh; padding:2.4rem 1.2rem } .hero-title{ font-size:1.8rem } .chev{ width:28px; height:28px } }
    /* END HERO */

    /* MAIN container (keeps page centred and tidy) */
    main.container {
      max-width: var(--max-page-width);
      margin: 0 auto;
      padding: 0 5%;
    }

    /* CONTACT layout */
    .contact {
      display: grid;
      grid-template-columns: 1fr 440px;      /* left flexible, right fixed */
      gap: 28px;
      align-items: start;
      margin: -2.5rem auto 3rem;             /* visual overlap with hero (keeps original look) */
      max-width: var(--max-page-width);
      padding: 0 5%;
    }

    @media (max-width: 1100px) {
      .contact { grid-template-columns: 1fr 380px; gap: 22px; }
    }
    @media (max-width: 880px) {
      .contact { grid-template-columns: 1fr; margin-top: 1rem; margin-left: 0; margin-right: 0; padding: 0 5%; }
    }

    /* Left column: stacked cards */
    .left-col { display: flex; flex-direction: column; gap: 16px; }
    .card { background: #fff; border-radius: 12px; padding: 16px; box-shadow: var(--card-shadow); border: 1px solid rgba(16,32,58,0.04); }
    .card h3 { color: var(--brand); margin-bottom: 8px; font-size: 1.05rem; }

    .person {
      display: flex;
      gap: 12px;
      align-items: center;
    }
    .person img { width: 84px; height: 84px; border-radius: 10px; object-fit: cover; flex: 0 0 84px; border: 1px solid rgba(16,32,58,0.04); }
    .person .meta { font-size: 0.98rem; color: #263238; }
    .person .meta a { color: var(--brand); text-decoration: none; font-weight: 700; display:inline-block; margin-top:6px; }
    .person .meta small { display:block; margin-top:8px; color: var(--muted); font-weight: 600; }

    /* consistent office rows */
    .office {
      display: grid;
      grid-template-columns: 84px 1fr;
      gap: 12px;
      align-items: start;
    }
    .office img { width: 84px; height: 70px; object-fit:cover; border-radius:8px; border: 1px solid rgba(16,32,58,0.04); }

    .office .addr { font-size: 0.95rem; color:#222; }
    .office .addr small { color: var(--muted); display:block; margin-top:6px; font-weight:600; }

    /* action buttons (consistent, accessible) */
    .actions { display:flex; gap:10px; flex-wrap:wrap; margin-top:10px; }
    .actions .action-btn {
      display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border-radius:10px;
      background:#fff; color:var(--brand); border:1px solid rgba(16,32,58,0.06); cursor:pointer; font-weight:700; text-decoration:none;
      box-shadow: 0 6px 16px rgba(16,32,58,0.04);
      transition: transform .12s ease, box-shadow .12s ease;
    }
    .action-btn svg { width:16px; height:16px; display:block; }
    .action-btn.primary { background:var(--brand); color:#fff; border-color: transparent; }
    .action-btn.ghost { background: transparent; color: var(--brand); border-color: rgba(16,32,58,0.06); }
    .action-btn:focus { outline: 3px solid rgba(45,108,223,0.14); outline-offset: 3px; }
    .action-btn:hover { transform: translateY(-3px); box-shadow: 0 14px 30px rgba(16,32,58,0.08); }

    /* map embed - hidden by default */
    .map-embed { margin-top: 12px; border-radius: 10px; overflow: hidden; border: 1px solid rgba(16,32,58,0.06); display: none; }
    .map-embed iframe { width: 100%; height: 260px; border: 0; display: block; }

    /* Right column (form) - sticky on wide screens so it feels aligned */
    .right-col { position: relative; }
    .right-col .card { padding: 20px; }
    @media (min-width: 1100px) {
      .right-col { position: sticky; top: 96px; align-self: start; }
    }

    /* form controls */
    .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 12px; }
    @media (max-width: 520px) { .form-row { grid-template-columns: 1fr; } }
    label { display:block; margin-bottom: 6px; color:#243447; font-weight:600; font-size: 0.92rem; }
    input[type=text], input[type=email], textarea {
      width:100%; padding:12px 14px; border-radius:10px; border:1px solid rgba(16,32,58,0.08); font-size: 0.98rem; background:#fff;
    }
    textarea { min-height:130px; resize: vertical; }
    .hint { font-size: 0.86rem; color: var(--muted); margin-top:6px; }

    .form-submit { display:flex; gap:10px; align-items:center; margin-top:14px; }
    .form-submit button { background: var(--brand); color: #fff; border: none; padding: 12px 16px; border-radius:10px; font-weight:700; cursor:pointer; box-shadow: 0 10px 24px rgba(16,32,58,0.08); }
    .form-submit button:disabled { opacity: .6; cursor: not-allowed; }

    /* small utilities */
    .muted { color: var(--muted); }
    footer { background: var(--brand); color: #fff; text-align:center; padding: 14px 5%; margin-top: 36px; }

    /* toast */
    .toast { position: fixed; right: 18px; bottom: 18px; background: #0f1724; color: #fff; padding: 12px 16px; border-radius: 10px; box-shadow: 0 12px 36px rgba(2,6,23,0.5); transform: translateY(10px); opacity: 0; pointer-events: none; transition: transform .22s, opacity .22s; z-index: 2000; }
    .toast.show { transform: translateY(0); opacity: 1; pointer-events: auto; }

    /* focus styles for accessibility */
    a:focus, button:focus, input:focus, textarea:focus { outline: 3px solid rgba(45,108,223,0.14); outline-offset: 2px; }
  </style>
</head>
<body>

  <!-- Header -->
  <header>
    <div class="logo" aria-hidden="false">
      <img src="images/logo.jpeg" alt="SBB Logo">
      <h1>SBB Foundation</h1>
    </div>

    <nav aria-label="Primary navigation">
      <a href="index.html">Home</a>
      <a href="about.html">About</a>
      <a href="services.html">Services</a>
      <a href="ventures.html">Ventures</a>
      <a href="contact.html" class="active">Contact</a>
    </nav>

    <button class="mobile-menu" id="mobileMenuBtn" aria-haspopup="true" aria-expanded="false" aria-controls="mobilePanel" title="Open menu">⋮</button>

    <div class="mobile-panel" id="mobilePanel" role="menu" aria-labelledby="mobileMenuBtn">
      <a href="index.html" role="menuitem" tabindex="0">Home</a>
      <a href="about.html" role="menuitem" tabindex="0">About</a>
      <a href="services.html" role="menuitem" tabindex="0">Services</a>
      <a href="ventures.html" role="menuitem" tabindex="0">Ventures</a>
      <a href="contact.html" role="menuitem" tabindex="0">Contact</a>
    </div>
  </header>

  <!-- HERO (unchanged) -->
  <section class="hero" aria-label="Contact hero banner">
    <div class="hero-content">
      <h1 class="hero-title">Get in Touch</h1>
      <p class="hero-lead">We’d love to hear from you — for software projects, partnerships, or to support our social initiatives.</p>

      <div class="hero-cta-row">
        <a class="btn btn-primary" href="services.html">Explore Services</a>
        <a class="btn btn-ghost" href="#contact-form">Contact Us</a>
      </div>

      <a class="chevron-wrap" id="scrollChevron" href="#contact-form" aria-label="Scroll to contact form">
        <svg class="chev" viewBox="0 0 24 24" role="img" aria-hidden="true"><path d="M12 16.5c-.3 0-.5-.1-.7-.3l-6-6a1 1 0 0 1 1.4-1.4L12 13.09l5.3-5.3a1 1 0 1 1 1.4 1.42l-6 6c-.2.2-.4.29-.7.29z"></path></svg>
      </a>
    </div>
  </section>

  <!-- CONTACT -->
  <main class="container" role="main">
    <section class="contact" id="contact-form" tabindex="-1" aria-labelledby="contact-title">
      <!-- LEFT -->
      <div class="left-col" aria-labelledby="contact-title-left">
        <!-- Contact header / person -->
        <div class="card" aria-labelledby="contact-title">
          <h3 id="contact-title">Contact Information</h3>
          <div class="person">
            <img src="images/office-generic.jpg" alt="Contact person">
            <div class="meta">
              <strong>Jitendra Sharma</strong>
              <div style="margin-top:8px"><a href="tel:+919166010400">+91 91660 10400</a></div>
              <div style="margin-top:6px"><a href="mailto:info@sbbf.in">info@sbbf.in</a></div>
              <small>Alternate: <a href="mailto:jitendra.sharma@sbbf.in">jitendra.sharma@sbbf.in</a></small>
            </div>
          </div>

          <div class="actions" style="margin-top:12px;">
            <a class="action-btn primary" href="mailto:info@sbbf.in" aria-label="Email SBB Foundation">
              <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M3 7.5v9A2.5 2.5 0 0 0 5.5 19h13A2.5 2.5 0 0 0 21 16.5v-9A2.5 2.5 0 0 0 18.5 5h-13A2.5 2.5 0 0 0 3 7.5z" stroke="#fff" stroke-width="0.8" fill="currentColor"/><path d="M21 7.5l-9 6-9-6" stroke="#fff" stroke-width="0.9" fill="none"></path></svg>
              Email Us
            </a>

            <a class="action-btn" href="tel:+919166010400" aria-label="Call SBB Foundation">
              <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M6.6 10.2a12.2 12.2 0 0 0 7.2 7.2l1.9-1.9a1 1 0 0 1 1.1-.2c1.2.5 2.6.8 4 .8a1 1 0 0 1 1 1v2.6A1 1 0 0 1 21 21c-8.3 0-15-6.7-15-15 0-.6.4-1 1-1H9.6a1 1 0 0 1 1 1c0 1.4.3 2.8.8 4a1 1 0 0 1-.2 1.1l-1.9 1.9z" stroke="currentColor" stroke-width="1" fill="currentColor"/></svg>
              Call
            </a>

            <button class="action-btn ghost" id="msgBtn" aria-label="Message SBB Foundation">
              <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M21 15a2 2 0 0 1-2 2H8l-5 4V6a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" stroke="currentColor" stroke-width="1" fill="currentColor"/></svg>
              Message
            </button>

            <button class="action-btn" id="supportBtn" aria-label="Get Support">
              <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M12 2a10 10 0 1 0 .001 20.001A10 10 0 0 0 12 2z" stroke="currentColor" stroke-width="0.8" fill="currentColor"/><path d="M12 7v6l4 2" stroke="#fff" stroke-width="1.2" fill="none"/></svg>
              Get Support
            </button>
          </div>
        </div>

        <!-- Mumbai -->
        <div class="card">
          <h3>Head Office — Mumbai</h3>
          <div class="office">
            <img src="images/office-mumbai.jpg" alt="Mumbai office">
            <div>
              <div class="addr">Flat no 202, Dr. Dadabhai Naoroji Rd, Fort<br>Mumbai, Maharashtra — <strong>400001</strong></div>
              <small class="muted">PIN: 400001</small>

              <div class="actions" style="margin-top:10px;">
                <button class="action-btn" data-map="mumbai" aria-expanded="false"> <!-- toggles map -->
                  <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M12 2l7 4v12l-7 4-7-4V6l7-4z" stroke="currentColor" stroke-width="0.8" fill="currentColor"/></svg>
                  View map
                </button>
                <a class="action-btn" href="https://www.google.com/maps/search/?api=1&query=Dr+Dadabhai+Naoroji+Road+Mumbai+400001" target="_blank" rel="noopener">
                  Open in Maps
                </a>
              </div>
            </div>
          </div>

          <div class="map-embed" id="map-mumbai" aria-hidden="true">
            <iframe loading="lazy" title="Mumbai office map" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d60225.75471799881!2d72.77895422353027!3d18.94114068857802!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3be7c8336f1f1a9d%3A0x0!2sDr%20Dadabhai%20Naoroji%20Road%2C%20Fort%2C%20Mumbai%2C%20400001!5e0!3m2!1sen!2sin!4v1700000000000"></iframe>
          </div>
        </div>

        <!-- Jaipur Rajbhawan -->
        <div class="card">
          <h3>Branch Office — Jaipur (Rajbhawan Road)</h3>
          <div class="office">
            <img src="images/office-jaipur-raj.jpg" alt="Jaipur Rajbhawan office">
            <div>
              <div class="addr">SBB Foundation, 3A Rajbhawan Road, Jaipur, Rajasthan — <strong>302006</strong></div>
              <small class="muted">PIN: 302006</small>

              <div class="actions" style="margin-top:10px;">
                <button class="action-btn" data-map="jaipur-raj" aria-expanded="false">View map</button>
                <a class="action-btn" href="https://www.google.com/maps/search/?api=1&query=3A+Rajbhawan+Road+Jaipur+302006" target="_blank" rel="noopener">Open in Maps</a>
              </div>
            </div>
          </div>
          <div class="map-embed" id="map-jaipur-raj" aria-hidden="true">
            <iframe loading="lazy" title="Jaipur Rajbhawan Road map" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3579.0000000000005!2d75.803024!3d26.924000!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2sRajbhawan%2C%20Jaipur!5e0!3m2!1sen!2sin!4v1700000000001"></iframe>
          </div>
        </div>

        <!-- Jaipur Vaishali -->
        <div class="card">
          <h3>Branch Office — Jaipur (Vaishali Nagar)</h3>
          <div class="office">
            <img src="images/office-jaipur-vaishali.jpg" alt="Jaipur Vaishali Nagar office">
            <div>
              <div class="addr">SBB Foundation, J10, Vaishali Nagar, Jaipur, Rajasthan — <strong>302021</strong></div>
              <small class="muted">PIN: 302021</small>

              <div class="actions" style="margin-top:10px;">
                <button class="action-btn" data-map="jaipur-vn" aria-expanded="false">View map</button>
                <a class="action-btn" href="https://www.google.com/maps/search/?api=1&query=Vaishali+Nagar+Jaipur+302021" target="_blank" rel="noopener">Open in Maps</a>
              </div>
            </div>
          </div>
          <div class="map-embed" id="map-jaipur-vn" aria-hidden="true">
            <iframe loading="lazy" title="Vaishali Nagar Jaipur map" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3579.0000000000005!2d75.781000!3d26.885000!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2sVaishali+Nagar%2C+Jaipur!5e0!3m2!1sen!2sin!4v1700000000002"></iframe>
          </div>
        </div>
      </div>

      <!-- RIGHT (Form) -->
      <aside class="right-col" aria-label="Contact form">
        <div class="card" role="form" aria-labelledby="form-heading">
          <h3 id="form-heading">Send Us a Message</h3>
          <form id="contactForm" novalidate>
            <div class="form-row">
              <div>
                <label for="name">Full name</label>
                <input id="name" name="name" type="text" autocomplete="name" required placeholder="Your full name">
              </div>
              <div>
                <label for="email">Email</label>
                <input id="email" name="email" type="email" autocomplete="email" required placeholder="you@company.com">
              </div>
            </div>

            <div>
              <label for="subject">Subject</label>
              <input id="subject" name="subject" type="text" placeholder="Subject (e.g. Project inquiry)" required>
            </div>

            <div style="margin-top:12px;">
              <label for="message">Message</label>
              <textarea id="message" name="message" placeholder="Tell us about your project or question..." required></textarea>
              <div class="hint">We typically reply within 1–2 business days.</div>
            </div>

            <div style="display:flex;align-items:center;gap:12px;margin-top:12px;">
              <input id="consent" type="checkbox" required>
              <label for="consent" style="margin:0;font-size:0.92rem;color:var(--muted)">I agree to be contacted about my inquiry.</label>
            </div>

            <div class="form-submit">
              <button type="submit" id="submitBtn">Send Message</button>
              <div class="hint" style="margin-left:auto">Or email: <a href="mailto:info@sbbf.in">info@sbbf.in</a></div>
            </div>

            <!-- subtle honeypot (hidden) -->
            <p style="display:none"><label>Leave this empty: <input name="website" /></label></p>
          </form>
        </div>
      </aside>
    </section>
  </main>

  <footer>
    <p>&copy; 2016 SBB Foundation | Software & Social Impact</p>
  </footer>

  <div id="toast" class="toast" role="status" aria-live="polite" aria-atomic="true">Message sent — thank you! We'll reply soon.</div>

  <script>
    (function(){
      const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

      // mobile menu
      const btn = document.getElementById('mobileMenuBtn');
      const panel = document.getElementById('mobilePanel');
      function closePanel(){ if(!panel) return; panel.classList.remove('open'); if(btn) btn.setAttribute('aria-expanded','false'); }
      function openPanel(){ if(!panel) return; panel.classList.add('open'); if(btn) btn.setAttribute('aria-expanded','true'); if(btn) btn.focus(); }
      if(btn){
        btn.addEventListener('click', function(e){ e.stopPropagation(); const open = panel.classList.contains('open'); if(open) closePanel(); else openPanel(); });
        btn.addEventListener('keydown', function(e){ if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); btn.click(); } else if (e.key === 'Escape') closePanel(); });
      }
      document.addEventListener('click', function(e){ if(!panel) return; if(panel.classList.contains('open') && !panel.contains(e.target) && e.target !== btn) closePanel(); });
      document.addEventListener('keydown', function(e){ if(e.key === 'Escape') closePanel(); });
      if(panel) panel.querySelectorAll('a').forEach(a => a.addEventListener('click', () => closePanel()));

      // reveal hero text (unchanged)
      function revealHero(){ const title = document.querySelector('.hero-title'); const lead = document.querySelector('.hero-lead'); if(title) { title.style.opacity = 1; title.style.transform = 'translateY(0)'; } if(lead) { lead.style.opacity = 1; lead.style.transform = 'translateY(0)'; } }

      // chevron: smooth scroll to contact form
      const chev = document.getElementById('scrollChevron');
      if(chev){
        chev.addEventListener('click', function(e){
          e.preventDefault();
          const target = document.getElementById('contact-form');
          if(target){
            target.scrollIntoView({ behavior: prefersReduced ? 'auto' : 'smooth', block:'start' });
            if(!prefersReduced) setTimeout(()=> target.focus({ preventScroll:true }), 500);
          }
        });
      }

      // parallax (unchanged if present)
      function attachParallax(){
        const hero = document.querySelector('.hero');
        if(!hero || prefersReduced) return;
        const intensity = 12;
        function onMove(e){
          const rect = hero.getBoundingClientRect();
          const cx = rect.left + rect.width/2;
          const cy = rect.top + rect.height/2;
          const clientX = e.touches ? e.touches[0].clientX : e.clientX;
          const clientY = e.touches ? e.touches[0].clientY : e.clientY;
          const dx = (clientX - cx) / rect.width;
          const dy = (clientY - cy) / rect.height;
          hero.style.transform = `translate3d(${dx * intensity * 0.12}px, ${dy * intensity * 0.05}px, 0)`;
          const posX = 50 + dx * 4;
          const posY = 35 + dy * 3;
          hero.style.backgroundPosition = `${posX}% ${posY}%`;
        }
        function onLeave(){ hero.style.transform=''; hero.style.backgroundPosition=''; }
        hero.addEventListener('mousemove', onMove);
        hero.addEventListener('mouseleave', onLeave);
        hero.addEventListener('touchmove', function(ev){ if(ev.touches && ev.touches[0]) onMove(ev.touches[0]); }, {passive:true});
      }

      // Map toggle buttons (shows/hides corresponding map embed)
      document.querySelectorAll('[data-map]').forEach(button => {
        button.addEventListener('click', function(){
          const key = this.getAttribute('data-map');
          const mapEl = document.getElementById('map-' + key);
          if(!mapEl) return;
          const expanded = this.getAttribute('aria-expanded') === 'true';
          // hide other maps
          document.querySelectorAll('.map-embed').forEach(m => { if(m !== mapEl){ m.style.display = 'none'; m.setAttribute('aria-hidden','true'); const assoc = document.querySelector('[data-map="'+m.id.replace('map-','')+'"]'); if(assoc){ assoc.setAttribute('aria-expanded','false'); assoc.textContent = 'View map'; } } });
          if(expanded){
            mapEl.style.display = 'none';
            mapEl.setAttribute('aria-hidden','true');
            this.setAttribute('aria-expanded','false');
            this.textContent = 'View map';
          } else {
            mapEl.style.display = 'block';
            mapEl.setAttribute('aria-hidden','false');
            this.setAttribute('aria-expanded','true');
            this.textContent = 'Hide map';
            if(window.innerWidth < 900) setTimeout(()=> mapEl.scrollIntoView({behavior:'smooth', block:'center'}), 80);
          }
        });
      });

      // message button -> focus message textarea
      const msgBtn = document.getElementById('msgBtn');
      if(msgBtn){
        msgBtn.addEventListener('click', function(){
          const msg = document.getElementById('message');
          if(msg){ msg.focus(); if(window.innerWidth < 900) msg.scrollIntoView({behavior:'smooth', block:'center'}); }
        });
      }

      // support button scrolls to top office card (or Mumbai)
      const supportBtn = document.getElementById('supportBtn');
      if(supportBtn){
        supportBtn.addEventListener('click', function(){
          const target = document.getElementById('map-mumbai') || document.querySelector('.left-col .card');
          if(target){ target.scrollIntoView({behavior: prefersReduced ? 'auto' : 'smooth', block: 'center'}); if(target.focus) target.focus(); }
        });
      }

      // FORM: simulated submit & honeypot check
      const form = document.getElementById('contactForm');
      const toast = document.getElementById('toast');
      const submitBtn = document.getElementById('submitBtn');
      function showToast(msg){ toast.textContent = msg; toast.classList.add('show'); clearTimeout(window._toastTimer); window._toastTimer = setTimeout(()=> toast.classList.remove('show'), 4200); }

      if(form){
        form.addEventListener('submit', function(e){
          e.preventDefault();
          // honeypot
          if(form.website && form.website.value) { showToast('Spam detected'); return; }
          const name = form.name.value.trim();
          const email = form.email.value.trim();
          const message = form.message.value.trim();
          const consent = form.consent.checked;
          if(!name || !email || !message || !consent){
            showToast('Please complete required fields and agree to contact.');
            return;
          }
          submitBtn.disabled = true;
          submitBtn.textContent = 'Sending...';
          setTimeout(()=> {
            submitBtn.disabled = false;
            submitBtn.textContent = 'Send Message';
            form.reset();
            showToast('Message sent — thank you! We will reply within 1–2 business days.');
          }, 900);
        });
      }

      document.addEventListener('DOMContentLoaded', function(){ setTimeout(revealHero, 120); attachParallax(); });
    })();
  </script>
</body>
</html>
